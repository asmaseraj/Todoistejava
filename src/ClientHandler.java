import java.io.DataInputStream;import java.io.DataOutputStream;import java.io.IOException;import java.net.Socket;class ClientHandler implements Runnable {    private Socket clientSocket;    public DataInputStream inputStream;    public DataOutputStream outputStream;    private String clientID;    public ClientHandler(Socket clientSocket, String clientID) throws IOException {        this.clientID = clientID;        this.clientSocket = clientSocket;        System.out.println(this.clientSocket.toString());        this.inputStream = new DataInputStream(this.clientSocket.getInputStream());        this.outputStream = new DataOutputStream(this.clientSocket.getOutputStream());    }    public void run() {        User user;        boolean bool = true;        while (bool) {            bool=false;            String select =" ";            String username = "";            String lastname = " ";            String email = "" ;            String pass = "";            String name = " ";            try {                    System.err.println("7");                    select = inputStream.readUTF();                    System.out.println(" ." + select);                    name = inputStream.readUTF();                    username = inputStream.readUTF();                    lastname = inputStream.readUTF();                    email = inputStream.readUTF();                    pass = inputStream.readUTF();                System.out.println("" + name.toString()+username.toString()+lastname.toString()+email.toString()+pass.toString());            } catch (IOException e) {                System.err.println("y");                e.printStackTrace();            }            System.err.println("5");            if(select.equals("register")){////                    try {//                        name = inputStream.readUTF();//                        username = inputStream.readUTF();//                        lastname = inputStream.readUTF();//                        email = inputStream.readUTF();//                        pass = inputStream.readUTF();////                    } catch (IOException e) {//                        e.printStackTrace();//                    }                        System.err.println("1");                        try {                            for (int i = 0; i < Server.users.size(); i++) {                                if (Server.users.get(i).getUsername().equals(username)) {                                    throw new ExistingUserException();                                }                            }                        }                        catch (ExistingUserException ex)                        {                            ex.printStackTrace();                        }                        Server.users.add(user = new User(username, pass, email));                        //یجوری به کاربر نشون بده که ثبت نام شدی                        System.err.println("2");                        SaveData.saveData();                        System.err.println("3");                    //بهش یگو قبلا ثبت نام کردی عزیزم                }                else if(select.equals("login")) {                    String useroremail = null;                    String password = null;                    try {                        useroremail = inputStream.readUTF();                        password = inputStream.readUTF();                        System.err.println(" " + useroremail + password);                    } catch (IOException e) {                        e.printStackTrace();                    }                    boolean flag = false;                    for (int i = 0; i <Server.users.size() ; i++) {                        if (Server.users.get(i).getUsername().equals(useroremail) || Server.users.get(i).getEmail().equals(useroremail)) {                            flag = true;                            if (Server.users.get(i).getPass().equals(password)) {                                user = Server.users.get(i);                                //وارد شدی برو صفحه اصلی                            }                        }                    }                }            }        }    }